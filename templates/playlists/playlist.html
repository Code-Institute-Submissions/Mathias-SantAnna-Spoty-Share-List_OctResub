{% extends "base.html" %}

{% block heading %}
<h2 class="center-align playlist-title ">{{ playlist.playlist_name }} Playlist</h2>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row card-panel grey lighten-5">
        <div class="grid-top">
            <!-- Playlist Image -->
            <div class="center-align grid-top-img">
                {% if playlist.img_url %}
                <img class="card-img-top border-radius-025" src="{{ playlist.img_url }}" alt="{{ playlist.playlist_name }}" />
                {% else %}
                <img class="card-img-top border-radius-025" src="{{ url_for('static', filename='/images/PlaylistNOCover.png') }}" alt="No playlist image" />
                {% endif %}
            </div> 
            <div class="playlist-full grid-top-title bg-color-fbeade border-radius-025">
                <!-- Playlist Title, Creator & Detail -->
                <div class="text-center">
                    <h4 class="font-weight-400">by {{ user.username.capitalize() }}</h4>
                    <h6 class="card-text">{{ playlist.playlist_details              }}</h6>
                </div>
                <!-- Playlist Artist -->
                <div>
                    <h5 class="text-center mt-3 font-weight-700">Artists</h4>
                    <ul class="list-group list-group-flush border-radius-025">
                        {% for artist in playlist.artist_name.splitlines()%}
                        <li class="list-group-item">
                            &#9834; {{ artist }}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <div class="grid-bottom">
            <!-- Playlist Tracks -->
            <div>
                <h5 class="text-center font-weight-700 mt-4">Tracks</h5>
                <ul class="list-group list-group-flush border-radius-025">
                    {% for track in playlist.playlist_tracks.splitlines()%}
                    <li class="list-group-item">
                        &#9835; {{ track }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
            
        </div>
        
        <!-- Genre Links -->
        {% if playlist.playlist_url %}
        <div class="bbc-playlist-full text-center pb-3">
            <h5>    
                <a class="h5" href="{{ playlist.playlist_url }}" target="_blank" rel="noopener">Click Here to Open in Spotify</a>
            </h5>
        </div>
        {% endif %}
        <br>
        <div class="p-3">
            <a class="btn btn-ffd5b7-06" href="#">All {{ playlist.genre_name | title }} Playlists</a>
        </div>
        <br>
        <div class="col-lg12 s12">
            <a href="{{ url_for('edit_playlist', playlist_id=playlist._id) }}" class="btn-small green accent-4">Edit</a>
            <a href="" class="btn-small red">Delete</a>
        </div>
    </div>
</div>
{% endblock %}